apply plugin: 'org.jetbrains.kotlin.jvm'
apply plugin: 'org.jetbrains.kotlin.kapt'
apply plugin: 'maven-publish'

compileKotlin {
  kotlinOptions {
    jvmTarget = "1.8"
    //freeCompilerArgs = ['-Xskip-runtime-version-check', 'true']
  }
}

dependencies {
  compile project(':redacted-compiler-plugin-annotation')
  compile "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version"
  compile "org.jetbrains.kotlin:kotlin-compiler-embeddable:$kotlin_version"

  compileOnly "com.google.auto.service:auto-service-annotations:$autoservice_version"
  kapt "com.google.auto.service:auto-service:$autoservice_version"
}


publishing {
  publications {
    maven(MavenPublication) {
      from components.java
    }
  }
}
